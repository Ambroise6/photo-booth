<!--
  This file is part of "photo-booth"
  Copyright (c) 2018 Philipp Trenz

  For more information on the project go to
  <https://github.com/philipptrenz/photo-booth>

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, version 3.

  This program is distributed in the hope that it will be useful, but
  WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
  General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with this program. If not, see <http://www.gnu.org/licenses/>.
-->

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>photo-booth</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/font-awesome.min.css">
	<link rel="stylesheet" href="css/style.css">
</head>
<body style="display: none;">

	<nav class="container-fluid">
		<div class="my-navbar row-fluid">
			<a class="my-brand col-sm-4 col-xs-6" href="#"><b>photo-booth</b></a>
			<div class="action-buttons col-sm-4 col-xs-6">
				<a class="my-trigger-button" href="#" onclick="triggerPhoto()">
					<i class="fa fa-camera hide" aria-hidden="true" id="trigger-button"></i>
				</a>
				<a class="my-gif-button" href="#">
					<i class="fa fa-download hide" aria-hidden="true" id="gif-button"></i>
				</a>
				{{#if config.printing.enabled}}
					<a class="my-print-button" href="#" onclick="openPrintDialog()">
						<i class="fa fa-print" aria-hidden="true" id="print-button"></i>
					</a>
				{{/if}}
			</div>
			<a class="my-back-button col-sm-4 col-xs-6" href="#" onclick="showSettings()">
				<i class="fa fa-cog" aria-hidden="true" id="settings-button"></i>
			</a>
		</div>
	</nav>


	<div class="wrapper">
		<div class="container">
			{{#unlessEq config.webapp.contactAddressType 'none'}}
				<div class="row windows" id="contact-window" style="display: none;">
					<div class="well well-md col-xs-12 col-sm-12 col-md-6 col-md-offset-3 col-lg-6 col-lg-offset-3 grey darken-3">
						<h3>{{ i18n 'online-gallery.title' }}</h3>
						<p>{{ i18n (append 'online-gallery.text.' config.webapp.contactAddressType) }}</p>

						<form action="" class="form-group" id="contact-form">
							<div class="input-group">
								<input id="contact-address" type="{{config.webapp.contactAddressType}}" class="form-control" placeholder="{{ i18n (append 'online-gallery.placeholder.' config.webapp.contactAddressType) }}" required/>
								<span class="input-group-btn grey darken-3">
									<button class="btn btn-default" style="background-color: #2b3e50;">{{ i18n 'online-gallery.button' }}</button>
								</span>
							</div>
						</form>

						<div class="close-button">
							<a href="#" onclick="closeWindow('#contact-window')" ><i class="fa fa-times" aria-hidden="true"></i></a>
						</div>
					</div>
				</div>
			{{/unlessEq}}

			<div class="row windows" id="settings-auth" style="display: none;">
				<div class="well well-md col-xs-12 col-sm-12 col-md-6 col-md-offset-3 col-lg-6 col-lg-offset-3 grey darken-3">

					<h3>{{ i18n 'settings-password.title' }}</h3>

					<form action="" class="form-group" id="auth-form">
						<div class="input-group">
							<input id="passwd" type="password" class="form-control" placeholder="{{ i18n 'settings-password.placeholder' }}"/>
							<span class="input-group-btn">
								<button class="btn btn-default" style="background-color: #2b3e50;">{{ i18n 'settings-password.button' }}</button>
							</span>

						</div>
				    </form>

				    <div class="close-button">
				    	<a href="#" onclick="closeWindow('#settings-auth')" ><i class="fa fa-times" aria-hidden="true"></i></a>
				    </div>
				</div>
			</div>

			<div class="row">
			    <ul id="photos"></ul>
			 </div>

		</div>
	</div>

	<canvas id="hidden-canvas" ></canvas>

	<div class="modal fade" id="pending-action-modal" data-backdrop="static" tabindex="-1" role="dialog">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title">{{ i18n 'pending-action-dialog.title' }}</h4>
				</div>
				<div class="modal-body">
					<p>{{ i18n 'pending-action-dialog.text' }}</p>

					<div class="alert alert-danger" role="alert">
						<i class="fa fa-exclamation-triangle" aria-hidden="true"></i>
						{{ i18n 'pending-action-dialog.error' }}
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">{{ i18n 'pending-action-dialog.close' }}</button>
				</div>
			</div>
		</div>
	</div>

	<div class="modal fade" id="print-modal" tabindex="-1" role="dialog">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					<h4 class="modal-title">{{ i18n 'print-dialog.title' }}</h4>
				</div>
				<div class="modal-body step-layout-selection">
					<div>{{ i18n 'print-dialog.layout-selection' }}</div>
					{{#each config.printing.layouts}}
						{{#eq this.type 'image'}}
							<div class="layout-preview" onclick="selectPrintLayout('{{this.key}}')">
								<div class="image"></div>
							</div>
						{{else}}
							<div class="layout-preview" onclick="selectPrintLayout('{{this.key}}', {{this.options.width}}, {{this.options.height}})">
								<img class="image" src="layouts/{{this.key}}" />
							</div>
						{{/eq}}
					{{/each}}
				</div>
				<div class="modal-body step-photo-selection">
					<div>
						{{ i18n 'print-dialog.photo-selection' }}<br />
						{{ i18n 'print-dialog.photo-selection-count' }}: <span class="count-selected">0</span> / <span class="count-total">-</span>
					</div>
					<div>
						<button type="button" class="btn btn-primary" onclick="goToPrintPreview()">{{ i18n 'print-dialog.continue' }}</button>
					</div>
					<ul class="photo-selection"></ul>
				</div>
				<div class="modal-body step-preview">
					<div>{{ i18n 'print-dialog.preview' }}</div>
					<div class="preview-container col-xs-12"></div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" onclick="goBackToPrintPhotoSelection()">{{ i18n 'print-dialog.back' }}</button>
					<button type="button" class="btn btn-primary" onclick="printPhoto()">{{ i18n 'print-dialog.print' }}</button>
				</div>
			</div>
		</div>
	</div>

	<script src="/socket.io/socket.io.js"></script>
	<script src="js/jquery-3.1.1.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/main.js"></script>

</body>
</html>